# 쿠버네티스, 왜 필요한데?

- 수 많은 컨테이너를 사람이 언제 관리할건데?

## 자동화된 기능 제공

- 자동화된 bin packing
  - 각 컨테이너가 필요로 하는 리소스(CPU, RAM)를 고려하여 컨테이너를 노드에 맞추어서 배치
- 자동화된 self-healing
  - 실패한 컨테이너 다시 시작, 컨테이너 교체, '사용자 정의 상태 검사'에 응답하지 않는 컨테이너 죽이기, 이러한 과정을 서비스 준비가 끝날 때까지 클라이언트에게 보여주지 않음, 즉 자동화!
- 자동화된 롤아웃과 롤백
  - 배포와, 문제 생겼을 때 되돌리는 과정을 자동화(원하는 상태 서술하면 알아서 해주는거)

## 쿠버네티스 히스토리

- 서비스 디스커버리
  - 마이크로 서비스 아키텍처에서 수많은 애플리케이션이 예고없이 종료되거나 재시작된다
  - 애플리케이션이 실행되는 노드는 매번 바뀐다(클라이언트가 IP를 예측할 수 없다.)

## 쿠버네티스 클러스터 동작 방식

- master node: 클러스터의 모든 컨테이너를 관리하는 주체
  - kube-apiserver: 클러스터의 모든 컨테이너를 관리하는 주체
  - kube-scheduler: 컨테이너를 어떤 노드에 배치할지 결정
  - kube-controller-manager: 컨테이너의 상태를 관리
  - etcd: 클러스터의 모든 상태를 저장
- worker node
  - kubelet: 컨테이너를 실행하고, 컨테이너의 상태를 관리
  - docker: 컨테이너를 실행
  - kube-proxy: 컨테이너가 실행되는 노드의 네트워크를 관리
  - iptables: 네트워크 규칙을 관리
